"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),function($,t,e,n){$window=$(t);var i=$window.innerWidth(),r=$window.innerHeight(),o={lineHeight:1.2,center:!1,maxFontSize:9999,minFontSize:1,averageLines:!1,debug:!1,before:function(){},after:function(){}};$.fn.typeSizer=function(t){var e=$.extend({},o,t);return $containers=$(this),$containers.length>0&&$containers.each(function(){$container=$(this);var t=$container.text(),n={};$text=$("<div>").text(t),$text.css({lineHeight:e.lineHeight,display:"inline-block"}),$container.text("").append($text),e.debug&&$container.append($("<div>").addClass("debug")),n.$container=$container,n.$text=$text;var i=Object.create(c);i.init(e,n)}),$containers};var c={init:function(t,e){var n=this;return n.config=t,n.elements=e,n.typeResize(),n.bindEvents(),n},typeResize:function(){function t(){if(f=parseInt($text.css("font-size"),10),d=parseInt($text.css("line-height"),10),h=Math.floor($container.height()/f),a=$text.height()/f,e.config.debug){$container.find(".debug").text("");var t={textHeight:$text.height(),textFontSize:f,textMaxLines:h,textCurrentLines:a,count:u,action:x};$.each(t,function(t,e){$container.find(".debug").append(t+": "+e+"</br>")})}u++}var e=this,n=e.config,i=$window.innerWidth();$container=e.elements.$container,$text=e.elements.$text,n.before();var r=$container.width(),o=$container.innerHeight(),c=$text.width(),s=$text.innerHeight(),a=1,h=1,f=parseInt($text.css("font-size"),10),d=parseInt($text.css("line-height"),10),x=null,u=1;if($text.css("width",""),t(),$container.height()>$text.innerHeight()){for(x="Enlarge";h>=a&&f<=n.maxFontSize&&9999>u;)$text.css("font-size","+=1"),t();$text.css("font-size","-=1"),t()}else{for(x="Shrink";a>h&&f>=n.minFontSize&&9999>u;)$text.css("font-size","-=1"),t();$text.css("font-size","-=1"),t()}if($text.innerWidth()>$container.width())for(u=1,x="Shrink";$text.innerWidth()>$container.width()&&f>n.minFontSize&&100>u;)$text.css("font-size","-=1"),t();var g=a;if($text.css("width",$container.width()),n.averageLines){for(u=1,x="Averaging";g==a&&9999>u;)$text.css("width","-=1"),t();$text.css("width","+=1")}if(n.center){var w=($container.height()-$text.innerHeight())/2,p=($container.innerWidth()-$text.width())/2;$text.css({marginTop:w})}return n.after(),e},bindEvents:function(){var t=this,e;return $window.resize(function(){clearTimeout(e),e=setTimeout(function(){t.typeResize()},100)}),$window.on("focus",function(){t.typeResize()}),t.elements.$container.on("typeResize",function(){t.typeResize()}),t}}}(jQuery,window,document);
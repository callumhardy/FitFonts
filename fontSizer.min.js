"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),function($,t,e,n){$window=$(t);var i=$window.innerWidth(),o=$window.innerHeight(),r={lineHeight:1.2,center:!1,maxFontSize:9999,minFontSize:1,debug:!1,before:function(){},after:function(){}};$.fn.typeSizer=function(t){var e=$.extend({},r,t);return $containers=$(this),$containers.length>0&&$containers.each(function(){$container=$(this);var t=$container.text(),n={};$text=$("<div>").text(t),$text.css({lineHeight:e.lineHeight,display:"inline-block"}),$container.text("").append($text),e.debug&&$container.append($("<div>").addClass("debug")),n.$container=$container,n.$text=$text;var i=Object.create(c);i.init(e,n)}),$containers};var c={init:function(t,e){var n=this;n.config=t,n.elements=e,n.typeResize(),n.bindEvents()},typeResize:function(){function t(){if(h=parseInt($text.css("font-size"),10),x=parseInt($text.css("line-height"),10),f=Math.floor($container.height()/h),a=$text.height()/h,e.config.debug){$container.find(".debug").text("");var t={textHeight:$text.height(),textFontSize:h,textMaxLines:f,textCurrentLines:a,count:u,action:d};$.each(t,function(t,e){$container.find(".debug").append(t+": "+e+"</br>")})}u++}var e=this,n=e.config,i=$window.innerWidth();$container=e.elements.$container,$text=e.elements.$text,n.before();var o=$container.width(),r=$container.innerHeight(),c=$text.width(),s=$text.innerHeight(),a=1,f=1,h=parseInt($text.css("font-size"),10),x=parseInt($text.css("line-height"),10),d=null,u=1;if(t(),$container.height()>$text.innerHeight()){for(d="Enlarge";f>=a&&h<=n.maxFontSize&&9999>u;)$text.css("font-size","+=1"),t();$text.css("font-size","-=1"),t()}else{for(d="Shrink";a>f&&h>=n.minFontSize&&9999>u;)$text.css("font-size","-=1"),t();$text.css("font-size","-=1"),t()}if($text.innerWidth()>$container.width())for(u=1,d="Shrink";$text.innerWidth()>$container.width()&&h>n.minFontSize&&100>u;)$text.css("font-size","-=1"),t();if(n.center){var g=($container.height()-$text.innerHeight())/2,p=($container.innerWidth()-$text.width())/2;$text.css({marginTop:g})}n.after()},bindEvents:function(){var t=this,e;return $window.resize(function(){clearTimeout(e),e=setTimeout(function(){t.typeResize()},100)}),$window.on("focus",function(){t.typeResize()}),t.elements.$container.on("typeResize",function(){t.typeResize()}),t}}}(jQuery,window,document);